import{r as l,d as z,u as F,c as k,C as D,a as I,o as r,b as u,e,t as p,f as S,n as A,g as G,w as g,v as y,h as R,F as O,i as V,j as B,k as H,l as T,m as X,p as Z}from"./index.e50a5f4c.js";const w=l([]),L=z("orders",()=>{const t=F(),h=k(()=>!!w.value.length),c=k(()=>w.value),s=async()=>{if(!(t.isConnected&&t.wallet))return null;const n=await _(t.wallet),d=t.tokens.unclaimed.map(v=>({tokenId:v,status:"SHIPPING_UNASSIGNED",jerseySize:"Large",shippingAddress:{name:"",address1:"",city:"",stateProvince:"",postalCode:"",country:""}}));w.value=[...d,...n]},i=n=>w.value.some(d=>d.tokenId===n),_=async n=>{const d=`${D.getUserOrdersLocal}/${n}`,{orders:v}=await(await fetch(d,{method:"GET"})).json();return v};return{loadUserOrders:s,getUserOrders:_,hasOrder:i,hasOrders:h,orders:c,addOrder:async(n,d)=>{if(!(t.isConnected&&t.wallet))return null;const v=`${D.createUserOrderRemote}`;return await(await fetch(v,{method:"POST",body:JSON.stringify({order:d,wallet:t.wallet,tokenId:n})})).json(),await s(),w.value}}});var E=(t=>(t[t.XSmall=0]="XSmall",t[t.Small=1]="Small",t[t.Medium=2]="Medium",t[t.Large=3]="Large",t[t.XLarge=4]="XLarge",t))(E||{});const Y={class:"shipping-form-view"},Q={class:"shipping-form-button"},q=e("path",{d:" M 1,6 13.25,17.65 M 23,6.36 10.75,17.65",style:{stroke:"#0000FF","stroke-width":"4"}},null,-1),K=[q],W={class:"order-status"},J={class:"order-addressee"},ee={class:"order-address1"},se={class:"order-city"},te={class:"order-state"},oe={class:"order-postalcode"},ie={class:"order-country"},ae={key:1,class:"shipping-form"},de={class:"form-group"},ne=e("label",{for:"shipping-name"},"Real/Fake Name",-1),re=["disabled"],le={class:"form-group"},pe=e("label",{for:"shipping-street-address1"},"Address1",-1),ue=["disabled"],ce={class:"form-group"},he=e("label",{for:"shipping-city"},"City",-1),_e=["disabled"],me={class:"form-group"},ve=e("label",{for:"shipping-state"},"State/Province",-1),ge=["disabled"],ye={class:"form-group"},fe=e("label",{for:"shipping-postalcode"},"Postal Code",-1),we=["disabled"],Se={class:"form-group"},be=e("label",{for:"shipping-country"},"Country",-1),xe=["disabled"],ke={class:"form-group"},Ae=e("label",{for:"jersey-size"},"Size",-1),Oe=["disabled"],Ie=["value"],Pe={class:"form-group",id:"submit-button-group"},Ce=["disabled"],Ne=I({__name:"ShippingForm",props:{orderId:String,order:Object},emits:["submit"],setup(t){const h=t,c=L(),s=l(h.order),i=l(s.value.status!=="SHIPPING_UNASSIGNED"),_=k(()=>s.value.status!=="SHIPPING_UNASSIGNED"),m=["Small","Medium","Large"],n=l(s.value.status==="SHIPPING_ASSIGNED"?"ORDER PLACED":s.value.status==="FULFILLED"?"ORDER SHIPPED":"PLACED ORDER"),d=l(!0);l(s.value.jerseySize?s.value.jerseySize:m[E.Large]);const v=()=>s.value.jerseySize!==null&&m.includes(s.value.jerseySize)&&Object.values(s.value.shippingAddress||{}).every(o=>!!o),b=async()=>{if(v()){console.log({order:s});const f=await c.addOrder(s.value.tokenId||"",s.value);s.value=f==null?void 0:f.find(o=>o.tokenId===s.value.tokenId),location.reload()}},x=()=>{d.value=!d.value};return(f,o)=>{var P,C,N,j,M,U,$;return r(),u("div",Y,[e("div",Q,[e("h1",{onClick:x,class:"shipping-form-title"},"Order # "+p((P=s.value)==null?void 0:P.tokenId),1),S(_)?(r(),u("svg",{key:0,class:A({arrowDown:d.value}),width:"32",height:"32",viewBox:"-4 -4 32 32",xmlns:"http://www.w3.org/2000/svg",_transform:"translate(0,0) rotate(50%)",style:{"transform-origin":"center center",border:"1px solid #FFFFFF00"},"xmlns:xlink":"http://www.w3.org/1999/xlink"},K,2)):G("",!0)]),S(_)?(r(),u("div",{key:0,class:A(["order-confirmation",{collapsed:d.value}])},[e("div",W,p(n.value),1),e("div",J,p((C=s.value.shippingAddress)==null?void 0:C.name),1),e("div",ee,p((N=s.value.shippingAddress)==null?void 0:N.address1),1),e("div",se,p((j=s.value.shippingAddress)==null?void 0:j.city),1),e("div",te,p((M=s.value.shippingAddress)==null?void 0:M.stateProvince),1),e("div",oe,p((U=s.value.shippingAddress)==null?void 0:U.postalCode),1),e("div",ie,p(($=s.value.shippingAddress)==null?void 0:$.country),1)],2)):(r(),u("form",ae,[e("div",de,[ne,g(e("input",{disabled:i.value,"onUpdate:modelValue":o[0]||(o[0]=a=>s.value.shippingAddress.name=a),type:"text",name:"shipping-name",id:"shipping-name"},null,8,re),[[y,s.value.shippingAddress.name]])]),e("div",le,[pe,g(e("input",{disabled:i.value,"onUpdate:modelValue":o[1]||(o[1]=a=>s.value.shippingAddress.address1=a),type:"text",name:"shipping-street-address1",id:"shipping-street-address1"},null,8,ue),[[y,s.value.shippingAddress.address1]])]),e("div",ce,[he,g(e("input",{disabled:i.value,"onUpdate:modelValue":o[2]||(o[2]=a=>s.value.shippingAddress.city=a),type:"text",name:"shipping-city",id:"shipping-city"},null,8,_e),[[y,s.value.shippingAddress.city]])]),e("div",me,[ve,g(e("input",{disabled:i.value,"onUpdate:modelValue":o[3]||(o[3]=a=>s.value.shippingAddress.stateProvince=a),type:"text",name:"shipping-state",id:"shipping-state"},null,8,ge),[[y,s.value.shippingAddress.stateProvince]])]),e("div",ye,[fe,g(e("input",{disabled:i.value,"onUpdate:modelValue":o[4]||(o[4]=a=>s.value.shippingAddress.postalCode=a),type:"text",name:"shipping-postalcode",id:"shipping-postalcode"},null,8,we),[[y,s.value.shippingAddress.postalCode]])]),e("div",Se,[be,g(e("input",{disabled:i.value,"onUpdate:modelValue":o[5]||(o[5]=a=>s.value.shippingAddress.country=a),type:"text",name:"shipping-country",id:"shipping-country"},null,8,xe),[[y,s.value.shippingAddress.country]])]),e("div",ke,[Ae,g(e("select",{disabled:i.value,"onUpdate:modelValue":o[6]||(o[6]=a=>s.value.jerseySize=a),name:"jersey-size",id:"jersey-size"},[(r(),u(O,null,V(m,(a,Te)=>e("option",{value:a},p(a),9,Ie)),64))],8,Oe),[[R,s.value.jerseySize]])]),e("div",Pe,[e("input",{disabled:i.value,onClick:b,type:"button",name:"shipping-submit",id:"shipping-submit",value:"Submit"},null,8,Ce)])]))])}}});const je=H('<ul id="app-menu-items"><li class="app-menu-item" id="mirror"><a href="https://mirror.xyz/zorhol.eth/uPGvlrhjSY722zhchp2NtY_eVkG5O0OodsCx5-A6j80"> Read our mirror.xyz post for additional info </a></li><li class="app-menu-item" id="twitter"><a href="https://twitter.com"> Reach out with Questions on twitter </a></li><li class="app-menu-item" id="gallery"><a href="#"> See gallery for physical jersey pics </a></li><li class="app-menu-item" id="sizechart"><a href="#"> Jersey Size chart </a></li></ul>',1),Me=I({__name:"AppMenu",props:{show:Boolean},emits:["closemenu"],setup(t,{emit:h}){const c=t;l(!1);const s=l(500),i=()=>{h("closemenu")};return(_,m)=>(r(),u("div",{id:"app-menu",class:A({open:c.show}),style:B({width:c.show?s.value+"px":0})},[e("div",{onClick:i,id:"app-menu-close"},"\xD7"),je],6))}});const Ue={id:"vip-view"},$e={id:"vip-header"},De={id:"header-content-left"},Fe=e("g",{id:"bars",fill:"#000000"},[e("path",{id:"top",d:" M 3,17 29,17 29,21.15 3,21.15 3,17 Z",transform:"matrix(1,0,0,1,0,-3.1)"}),e("path",{id:"middle",d:" M 3,14 29,14 29,18.05 3,18.05 3,14 Z",transform:"matrix(1,0,0,-1,-0,22.65)"}),e("path",{id:"bottom",transform:"matrix(1,0,0,1,-0,9.3)",d:" M 3,14 29,14 29,18.05 3,18.05 3,14 Z"})],-1),Ve=[Fe],Le={id:"header-content-right"},Ee=e("div",{class:"caption-text"},"mi777: the MiladyMoto Jersey",-1),ze={class:"header-text"},Ge=e("div",{class:"header-right-bottom"},[e("span",{class:"normal-text"},"Once submitted, order = final. "),e("span",{class:"bold-text"},"Once submitted, order = final.")],-1),Re={key:0,id:"pixel-editor-container"},Be={key:1,class:"shipping-forms"},He=e("h1",null,"Have jersey",-1),Ze=I({__name:"VIPView",setup(t){const h=F();let c=L();const s=l(!1),i=l(!1),_=l(h.tokens.unclaimed.map(d=>({tokenId:d,status:"SHIPPING_UNASSIGNED",jerseySize:"Large",shippingAddress:{name:"",address1:"",city:"",stateProvince:"",postalCode:"",country:""}})));let m=l(c.orders||_.value);const n=()=>{i.value=!i.value};return T(async()=>{await c.loadUserOrders(),m.value=c.orders}),(d,v)=>(r(),u(O,null,[e("section",Ue,[e("header",$e,[e("div",De,[(r(),u("svg",{onClick:n,id:"menu-open",class:"app-button",width:"40",height:"40",viewBox:"2 1.5  28 28",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},Ve))]),e("div",Le,[Ee,e("div",ze,"Minted "+p(S(h).totalTokensMinted)+" Jerseys. Placed "+p(S(h).tokens.claimedByUser.length)+" Order",1),Ge])]),s.value?(r(),u("div",Re)):(r(),u("div",Be,[He,(r(!0),u(O,null,V(S(m),(b,x)=>(r(),Z(Ne,{key:x,"order-id":b.tokenId,order:b},null,8,["order-id","order"]))),128))]))]),X(Me,{onClosemenu:n,show:i.value},null,8,["show"])],64))}});export{Ze as default};
