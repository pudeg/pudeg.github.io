import{r as l,d as z,u as I,c as k,g as E,C as G,a as P,o as r,b as u,e,t as p,f as S,n as A,h as R,w as v,v as y,i as B,F as O,j as V,k as H,l as T,m as X,p as Z,q as Y}from"./index.c984b606.js";const f=l([]),$=z("orders",()=>{const t=I(),h=k(()=>!!f.value.length),c=k(()=>f.value),s=async()=>{if(!(t.isConnected&&t.wallet))return null;const n=await E(t.wallet),d=t.tokens.unclaimed.map(g=>({tokenId:g,status:"SHIPPING_UNASSIGNED",jerseySize:"Large",shippingAddress:{name:"",address1:"",city:"",stateProvince:"",postalCode:"",country:""}}));f.value=[...d,...n]},i=n=>f.value.some(d=>d.tokenId===n);return{loadUserOrders:s,getUserOrder:n=>i(n)&&f.value.find(d=>d.tokenId===n)||null,hasOrder:i,hasOrders:h,orders:c,addOrder:async(n,d)=>{if(!(t.isConnected&&t.wallet))return null;const g=`${G.createUserOrderLocal}`;return await(await fetch(g,{method:"POST",body:JSON.stringify({order:d,wallet:t.wallet,tokenId:n})})).json(),await s(),f.value}}});var L=(t=>(t[t.XSmall=0]="XSmall",t[t.Small=1]="Small",t[t.Medium=2]="Medium",t[t.Large=3]="Large",t[t.XLarge=4]="XLarge",t))(L||{});const q={class:"shipping-form-view"},Q={class:"shipping-form-button"},K=e("path",{d:" M 1,6 13.25,17.65 M 23,6.36 10.75,17.65",style:{stroke:"#0000FF","stroke-width":"4"}},null,-1),W=[K],J={class:"order-status"},ee={class:"order-addressee"},se={class:"order-address1"},te={class:"order-city"},oe={class:"order-state"},ie={class:"order-postalcode"},ae={class:"order-country"},de={key:1,class:"shipping-form"},ne={class:"form-group"},re=e("label",{for:"shipping-name"},"Real/Fake Name",-1),le=["disabled"],pe={class:"form-group"},ue=e("label",{for:"shipping-street-address1"},"Address1",-1),ce=["disabled"],he={class:"form-group"},_e=e("label",{for:"shipping-city"},"City",-1),ve=["disabled"],me={class:"form-group"},ge=e("label",{for:"shipping-state"},"State/Province",-1),ye=["disabled"],fe={class:"form-group"},we=e("label",{for:"shipping-postalcode"},"Postal Code",-1),Se=["disabled"],be={class:"form-group"},xe=e("label",{for:"shipping-country"},"Country",-1),ke=["disabled"],Ae={class:"form-group"},Oe=e("label",{for:"jersey-size"},"Size",-1),Ie=["disabled"],Pe=["value"],Ce={class:"form-group",id:"submit-button-group"},Ne=["disabled"],je=P({__name:"ShippingForm",props:{orderId:String,order:Object},emits:["submit"],setup(t){const h=t;I();const c=$(),s=l(h.order);console.log({order:s});const i=l(s.value.status!=="SHIPPING_UNASSIGNED"),m=k(()=>s.value.status!=="SHIPPING_UNASSIGNED"),_=["Small","Medium","Large"],n=l(s.value.status==="SHIPPING_ASSIGNED"?"ORDER PLACED":s.value.status==="FULFILLED"?"ORDER SHIPPED":"PLACED ORDER"),d=l(!0);l(s.value.jerseySize?s.value.jerseySize:_[L.Large]);const g=()=>s.value.jerseySize!==null&&_.includes(s.value.jerseySize)&&Object.values(s.value.shippingAddress||{}).every(o=>!!o),b=async()=>{if(g()){console.log({order:s});const w=await c.addOrder(s.value.tokenId||"",s.value);s.value=w==null?void 0:w.find(o=>o.tokenId===s.value.tokenId),location.reload()}},x=()=>{d.value=!d.value};return(w,o)=>{var C,N,j,M,U,D,F;return r(),u("div",q,[e("div",Q,[e("h1",{onClick:x,class:"shipping-form-title"},"Order # "+p((C=s.value)==null?void 0:C.tokenId),1),S(m)?(r(),u("svg",{key:0,class:A({arrowDown:d.value}),width:"32",height:"32",viewBox:"-4 -4 32 32",xmlns:"http://www.w3.org/2000/svg",_transform:"translate(0,0) rotate(50%)",style:{"transform-origin":"center center",border:"1px solid #FFFFFF00"},"xmlns:xlink":"http://www.w3.org/1999/xlink"},W,2)):R("",!0)]),S(m)?(r(),u("div",{key:0,class:A(["order-confirmation",{collapsed:d.value}])},[e("div",J,p(n.value),1),e("div",ee,p((N=s.value.shippingAddress)==null?void 0:N.name),1),e("div",se,p((j=s.value.shippingAddress)==null?void 0:j.address1),1),e("div",te,p((M=s.value.shippingAddress)==null?void 0:M.city),1),e("div",oe,p((U=s.value.shippingAddress)==null?void 0:U.stateProvince),1),e("div",ie,p((D=s.value.shippingAddress)==null?void 0:D.postalCode),1),e("div",ae,p((F=s.value.shippingAddress)==null?void 0:F.country),1)],2)):(r(),u("form",de,[e("div",ne,[re,v(e("input",{disabled:i.value,"onUpdate:modelValue":o[0]||(o[0]=a=>s.value.shippingAddress.name=a),type:"text",name:"shipping-name",id:"shipping-name"},null,8,le),[[y,s.value.shippingAddress.name]])]),e("div",pe,[ue,v(e("input",{disabled:i.value,"onUpdate:modelValue":o[1]||(o[1]=a=>s.value.shippingAddress.address1=a),type:"text",name:"shipping-street-address1",id:"shipping-street-address1"},null,8,ce),[[y,s.value.shippingAddress.address1]])]),e("div",he,[_e,v(e("input",{disabled:i.value,"onUpdate:modelValue":o[2]||(o[2]=a=>s.value.shippingAddress.city=a),type:"text",name:"shipping-city",id:"shipping-city"},null,8,ve),[[y,s.value.shippingAddress.city]])]),e("div",me,[ge,v(e("input",{disabled:i.value,"onUpdate:modelValue":o[3]||(o[3]=a=>s.value.shippingAddress.stateProvince=a),type:"text",name:"shipping-state",id:"shipping-state"},null,8,ye),[[y,s.value.shippingAddress.stateProvince]])]),e("div",fe,[we,v(e("input",{disabled:i.value,"onUpdate:modelValue":o[4]||(o[4]=a=>s.value.shippingAddress.postalCode=a),type:"text",name:"shipping-postalcode",id:"shipping-postalcode"},null,8,Se),[[y,s.value.shippingAddress.postalCode]])]),e("div",be,[xe,v(e("input",{disabled:i.value,"onUpdate:modelValue":o[5]||(o[5]=a=>s.value.shippingAddress.country=a),type:"text",name:"shipping-country",id:"shipping-country"},null,8,ke),[[y,s.value.shippingAddress.country]])]),e("div",Ae,[Oe,v(e("select",{disabled:i.value,"onUpdate:modelValue":o[6]||(o[6]=a=>s.value.jerseySize=a),name:"jersey-size",id:"jersey-size"},[(r(),u(O,null,V(_,(a,Xe)=>e("option",{value:a},p(a),9,Pe)),64))],8,Ie),[[B,s.value.jerseySize]])]),e("div",Ce,[e("input",{disabled:i.value,onClick:b,type:"button",name:"shipping-submit",id:"shipping-submit",value:"Submit"},null,8,Ne)])]))])}}});const Me=T('<ul id="app-menu-items"><li class="app-menu-item" id="mirror"><a href="https://mirror.xyz/zorhol.eth/uPGvlrhjSY722zhchp2NtY_eVkG5O0OodsCx5-A6j80"> Read our mirror.xyz post for additional info </a></li><li class="app-menu-item" id="twitter"><a href="https://twitter.com"> Reach out with Questions on twitter </a></li><li class="app-menu-item" id="gallery"><a href="#"> See gallery for physical jersey pics </a></li><li class="app-menu-item" id="sizechart"><a href="#"> Jersey Size chart </a></li></ul>',1),Ue=P({__name:"AppMenu",props:{show:Boolean},emits:["closemenu"],setup(t,{emit:h}){const c=t;l(!1);const s=l(500),i=()=>{h("closemenu")};return(m,_)=>(r(),u("div",{id:"app-menu",class:A({open:c.show}),style:H({width:c.show?s.value+"px":0})},[e("div",{onClick:i,id:"app-menu-close"},"\xD7"),Me],6))}});const De={id:"vip-view"},Fe={id:"vip-header"},Ve={id:"header-content-left"},$e=e("g",{id:"bars",fill:"#000000"},[e("path",{id:"top",d:" M 3,17 29,17 29,21.15 3,21.15 3,17 Z",transform:"matrix(1,0,0,1,0,-3.1)"}),e("path",{id:"middle",d:" M 3,14 29,14 29,18.05 3,18.05 3,14 Z",transform:"matrix(1,0,0,-1,-0,22.65)"}),e("path",{id:"bottom",transform:"matrix(1,0,0,1,-0,9.3)",d:" M 3,14 29,14 29,18.05 3,18.05 3,14 Z"})],-1),Le=[$e],ze={id:"header-content-right"},Ee=e("div",{class:"caption-text"},"mi777: the MiladyMoto Jersey",-1),Ge={class:"header-text"},Re=e("div",{class:"header-right-bottom"},[e("span",{class:"normal-text"},"Once submitted, order = final. "),e("span",{class:"bold-text"},"Once submitted, order = final.")],-1),Be={key:0,id:"pixel-editor-container"},He={key:1,class:"shipping-forms"},Te=e("h1",null,"Have jersey",-1),Ye=P({__name:"VIPView",setup(t){const h=I();let c=$();const s=l(!1),i=l(!1),m=l(h.tokens.unclaimed.map(d=>({tokenId:d,status:"SHIPPING_UNASSIGNED",jerseySize:"Large",shippingAddress:{name:"",address1:"",city:"",stateProvince:"",postalCode:"",country:""}})));let _=l(c.orders||m.value);const n=()=>{i.value=!i.value};return X(async()=>{await c.loadUserOrders(),_.value=c.orders}),(d,g)=>(r(),u(O,null,[e("section",De,[e("header",Fe,[e("div",Ve,[(r(),u("svg",{onClick:n,id:"menu-open",class:"app-button",width:"40",height:"40",viewBox:"2 1.5  28 28",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},Le))]),e("div",ze,[Ee,e("div",Ge,"Minted "+p(S(h).totalTokensMinted)+" Jerseys. Placed "+p(S(h).tokens.claimedByUser.length)+" Order",1),Re])]),s.value?(r(),u("div",Be)):(r(),u("div",He,[Te,(r(!0),u(O,null,V(S(_),(b,x)=>(r(),Y(je,{key:x,"order-id":b.tokenId,order:b},null,8,["order-id","order"]))),128))]))]),Z(Ue,{onClosemenu:n,show:i.value},null,8,["show"])],64))}});export{Ye as default};
